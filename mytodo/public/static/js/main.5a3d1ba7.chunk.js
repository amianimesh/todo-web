(this.webpackJsonpmytodo=this.webpackJsonpmytodo||[]).push([[0],{221:function(e,t,n){},407:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n(26),c=n(2),s=n(1),i=n.n(s),o=n(93),l=n.n(o),u=(n(221),n(22)),d=n(23),j=n(25),b=n(24),h=n(15),O=n(7),p=n(10),f=Object(p.b)((function(e){return{profile:e.firebase.profile}}),(function(e){return{signout:function(){return e((function(e,t,n){(0,n.getFirebase)().auth().signOut().then((function(){e({type:"LOGOUT_SUCCESS"})}))}))}}}))((function(e){var t=e.profile;return Object(c.jsxs)("ul",{className:"right",children:[Object(c.jsxs)("li",{children:[" ",Object(c.jsx)("a",{onClick:e.signout,children:"Sign Out"})]}),Object(c.jsx)("li",{children:Object(c.jsx)(h.b,{to:"/",className:"btn btn-floating green lighten-3 black-text",children:t.initials})})]})})),m=function(){return Object(c.jsxs)("ul",{className:"right",children:[Object(c.jsx)("li",{children:Object(c.jsx)(h.b,{to:"/signin",children:"Sign In"})}),Object(c.jsx)("li",{children:Object(c.jsx)(h.b,{to:"/signup",children:"Sign Up"})})]})},g=Object(p.b)((function(e){return{auth:e.firebase.auth}}))((function(e){var t=e.auth.uid?Object(c.jsx)(f,{}):Object(c.jsx)(m,{});return Object(c.jsx)("nav",{className:"wrapper blue darken-3",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(h.b,{to:"/",className:"brand-logo",children:"TASKS APP"}),t]})})})),x=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={title:"",isCompleted:!1},e.handleChange=function(t){e.setState(Object(r.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.addTask(e.state)},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"AddTask section container",children:Object(c.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(c.jsx)("h5",{className:"green-text darken-1",children:"Add New Task:"}),Object(c.jsx)("input",{id:"title",type:"text",className:"materialize-textarea",onChange:this.handleChange}),Object(c.jsx)("button",{className:"btn-small grey",children:"Submit"})]})})}}]),n}(s.Component),v=Object(p.b)(null,(function(e){return{addTask:function(t){return e(function(e){return function(t,n,r){r.getFirebase,(0,r.getFirestore)().collection("tasks").add(Object(a.a)(Object(a.a)({},e),{},{createdOn:new Date})).then((function(){t({type:"ADD_TASK",task:e})})).catch((function(e){t({type:"CREATING_TASK_ERR",err:e})}))}}(t))}}}))(x),S=n(29),C=n(27),E=n(214),N=n.n(E),k=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.task,n=e.dispatchDeletetask,a=e.dispatchUpdateTask;return Object(c.jsx)("div",{className:"card z-depth-0",children:Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsxs)("span",{className:"card-title",style:t.isCompleted?{"text-decoration":"line-through"}:{},children:[" ",t.title," "]}),Object(c.jsxs)("div",{className:"card-action grey lighten-4",children:[Object(c.jsx)("p",{children:N()(t.createdOn.toDate()).calendar()}),Object(c.jsx)("p",{children:"Due Date"})]}),Object(c.jsx)("button",{className:"btn-small red ",onClick:function(e){return n(e,t.id)},children:"Delete"}),Object(c.jsx)("button",{className:"btn-small green right",onClick:function(e){return a(e,t.id)},children:"Completed"})]})})}}]),n}(s.Component),y=Object(C.d)(Object(p.b)(null,(function(e){return{dispatchDeletetask:function(t,n){t.preventDefault(),e(function(e){return function(t,n,a){(0,a.getFirestore)().collection("tasks").doc(e).delete().then((function(){t({type:"DELETE_TASK_SUCCESS"})})).catch((function(e){t({type:"DELETE_TASK_ERROR",err:e})}))}}(n))},dispatchUpdateTask:function(t,n){t.preventDefault(),e(function(e){return function(t,n,a){(0,a.getFirestore)().collection("tasks").doc(e).get().then((function(e){if(e.exists)return e.ref.update({isCompleted:!e.data().isCompleted})})).then((function(){t({type:"UPDATE_SUCCESS"})})).catch((function(e){t({type:"ERR_UPDATING"})}))}}(n))}}})),Object(S.firestoreConnect)([{collection:"tasks"}]))(k),A=function(e){var t=e.tasks;return Object(c.jsx)("div",{className:" project-list section",children:t&&t.map((function(e){return Object(c.jsx)(y,{task:e},e.id)}))})},F=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tasks;return e.auth.uid?Object(c.jsx)("div",{className:"dashboard container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col s12 m6",children:Object(c.jsx)(A,{tasks:t})}),Object(c.jsx)("div",{className:"col s12 m5",children:Object(c.jsx)(v,{})})]})}):Object(c.jsx)(O.a,{to:"/signin"})}}]),n}(s.Component),R=Object(C.d)(Object(p.b)((function(e){return console.log(e),{tasks:e.firestore.ordered.tasks,auth:e.firebase.auth}})),Object(S.firestoreConnect)([{collection:"tasks"}]))(F),w=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={email:"",password:""},e.handleSubmit=function(t){t.preventDefault(),e.props.signin(e.state)},e.handleChange=function(t){console.log(t),e.setState(Object(r.a)({},t.target.id,t.target.value))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?Object(c.jsx)(O.a,{to:"/"}):Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(c.jsx)("h5",{children:"Sign In"}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",id:"email",onChange:this.handleChange})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",id:"password",onChange:this.handleChange})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"btn",children:"Sign In"}),Object(c.jsx)("div",{className:"red-text center",children:t?Object(c.jsx)("p",{children:t}):null})]})]})})}}]),n}(s.Component),T=Object(p.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signin:function(t){return e((n=t,function(e,t,a){(0,a.getFirebase)().auth().signInWithEmailAndPassword(n.email,n.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"ERR_LOGIN",err:t})}))}));var n}}}))(w),_=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={firstname:"",lastname:"",email:"",password:""},e.handleSubmit=function(t){t.preventDefault(),e.props.signup(e.state)},e.handleChange=function(t){console.log(t),e.setState(Object(r.a)({},t.target.id,t.target.value))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?Object(c.jsx)(O.a,{to:"/"}):Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(c.jsx)("h5",{children:"Sign Up"}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{htmlFor:"firstname",children:"First Name"}),Object(c.jsx)("input",{type:"text",id:"firstname",onChange:this.handleChange})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{htmlFor:"firstname",children:"Last Name"}),Object(c.jsx)("input",{type:"text",id:"lastname",onChange:this.handleChange})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",id:"email",onChange:this.handleChange})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",id:"password",onChange:this.handleChange})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"btn",children:"Sign Up"}),Object(c.jsx)("div",{className:"red-text center",children:t?Object(c.jsx)("p",{children:t}):null})]})]})})}}]),n}(s.Component),D=Object(p.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signup:function(t){return e(function(e){return function(t,n,a){var r=a.getFirebase,c=a.getFirestore,s=r(),i=c();s.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({firstname:e.firstname,lastname:e.lastname,initials:e.firstname[0]+e.lastname[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"ERR_SIGNUP",err:e})}))}}(t))}}}))(_),I=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(c.jsx)(h.a,{children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(g,{}),Object(c.jsxs)(O.d,{children:[Object(c.jsx)(O.b,{exact:!0,path:"/",component:R}),Object(c.jsx)(O.b,{path:"/signin",component:T}),Object(c.jsx)(O.b,{path:"/signup",component:D})]})]})})}}]),n}(s.Component),U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,409)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},P={authError:null},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERR_LOGIN":return console.log("error loging in"),Object(a.a)(Object(a.a)({},e),{},{authError:"Login Failed"});case"LOGIN_SUCCESS":return console.log("login successful"),Object(a.a)(Object(a.a)({},e),{},{authError:null});case"LOGOUT_SUCCESS":return console.log("logout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(a.a)(Object(a.a)({},e),{},{authError:null});case"ERR_SIGNUP":return console.log("err signup"),Object(a.a)(Object(a.a)({},e),{},{authError:t.err.message});default:return e}},L={tasks:[]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":return console.log("task added",t.task),e;case"CREATING_TASK_ERR":return console.log("creating task err",t.err),e;case"DELETE_TASK_SUCCESS":return console.log("task deleted"),e;case"DELETE_TASK_ERROR":return console.log("task delete error"),e;case"UPDATE_SUCCESS":return console.log("task updated"),e;case"ERR_UPDATING":return console.log("error updating task"),e;default:return e}},z=n(56),M=Object(C.c)({auth:G,task:K,firestore:z.firestoreReducer,firebase:S.firebaseReducer}),W=n(215),B=n(44);n(408),n(405);B.a.initializeApp({apiKey:"AIzaSyC8ErHsV5JCAMm_QhmMWwVMw2uRGln2WEg",authDomain:"task-app-beta.firebaseapp.com",projectId:"task-app-beta",storageBucket:"task-app-beta.appspot.com",messagingSenderId:"45098825214",appId:"1:45098825214:web:d2c10592b49ea28a937caf",measurementId:"G-0N0XR8PQ85"}),B.a.firestore().settings({timestampsInSnapshots:!0});var J,Q=B.a,V=Object(C.e)(M,Object(C.d)(Object(C.a)(W.a.withExtraArgument({getFirebase:S.getFirebase,getFirestore:z.getFirestore})),Object(z.reduxFirestore)(B.a,Q))),H=(J={firebase:B.a,config:Q},Object(r.a)(J,"config",{useFirestoreForProfile:!0,userProfile:"users"}),Object(r.a)(J,"dispatch",V.dispatch),Object(r.a)(J,"createFirestoreInstance",z.createFirestoreInstance),J);function X(e){var t=e.children,n=Object(p.c)((function(e){return e.firebase.auth}));return Object(S.isLoaded)(n)?t:Object(c.jsx)(h.a,{children:Object(c.jsx)(O.b,{exact:!0,path:"/",component:R})})}l.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsxs)(p.a,{store:V,children:[Object(c.jsx)(S.ReactReduxFirebaseProvider,Object(a.a)(Object(a.a)({},H),{},{children:Object(c.jsx)(X,{children:Object(c.jsx)(I,{})})})),"  "]})}),document.getElementById("root")),U()}},[[407,1,2]]]);
//# sourceMappingURL=main.5a3d1ba7.chunk.js.map